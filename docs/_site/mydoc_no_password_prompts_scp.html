<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="You can publish your docs via SSH through a Terminal window or more likely, via a shell script that you simply execute as part of the publishing process. How...">
<meta name="keywords" content="publishingtroubleshooting,  ">
<title>Getting around the password prompts in SCP | 3D Genomes - TADkit</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-tadkit.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html"><img alt="TADkit logo" src="./images/tadkit-logo.png" width="18" height="32">&nbsp;<span class="projectTitle">TADkit Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="index.html">Home</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Marc Marti-Renom Lab<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="http://sgt.cnag.cat" target="_blank">Structural Genomics, CNAG-CRG</a></li>
                        
                        
                        
                        <li><a href="http://3dgenomes.org" target="_blank">3DGenomes.org Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://github.com/3DGenomes/tadbit" target="_blank">TADbit Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://github.com/3DGenomes/TADkit" target="_blank">TADkit Github Repo</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Online Example Data<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="introduction.html">TADkit Documentation</a></li>
                        
                        
                        
                        <li><a href="eg1_landing_page.html">Example 1</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:mike.goodstadt@cnag.crg.eu?subject=TADkit feedback&body=I have some feedback about the Getting around the password prompts in SCP page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Getting around the password prompts in SCP">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          












<ul id="mysidebar" class="nav">
    <li class="sidebarTitle"> </li>
    
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Getting around the password prompts in SCP</h1>
</div>



<div class="post-content">

   
    <div class="summary">You can publish your docs via SSH through a Terminal window or more likely, via a shell script that you simply execute as part of the publishing process. However, you will be prompted for your password with each file transfer unless you configure passwordless SSH. The basic process for setting up password less SSH is to create a key on your own machine that you also transfer to the remote machine. When you use the SCP command, the remote machine checks that you have the authorized key and allows access without a password prompt.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" href="https://github.com/3DGenomes/TADkit/blob/docs/pages/mydoc/mydoc_no_password_prompts_scp.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    

  <h2 id="get-rid-of-password-prompts">Get rid of password prompts</h2>

<p>To remove the password prompts when connecting to servers via SSH:</p>

<ol>
  <li>
    <p>On your local machine, go to your .ssh directory:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>cd ~/.ssh
</code></pre>
    </div>

    <p>Note that any directory that starts with a dot, like .ssh, is hidden. You can view hidden folders by enabling them on your Mac. See <a href="http://ianlunn.co.uk/articles/quickly-showhide-hidden-files-mac-os-x-mavericks/">this help topic</a>. Additionally, when you look at the files in a directory, use ls -a instead of just ls to view the hidden files.</p>

    <p>If you don’t have an .ssh directory, create one with <code class="highlighter-rouge">mkdir .ssh</code>.</p>
  </li>
  <li>
    <p>Create a new key inside your .ssh directory:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ssh-keygen -t rsa
</code></pre>
    </div>
  </li>
  <li>
    <p>Press <strong>Enter</strong>. When prompted about “Enter file in which to save the key …”, press <code class="highlighter-rouge">Enter</code> again.</p>

    <p>This will create a file called id_rsa.pub (the key) and id_rsa (your identification) in this .ssh folder.</p>

    <p>When prompted for a passphrase for the key, just leave it empty and press <strong>Enter</strong> twice. You should see something like this:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>tjohnson-mbpr13:.ssh tjohnson$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/yourname/.ssh/id_rsa.
Your public key has been saved in /Users/yourname/.ssh/id_rsa.pub.
The key fingerprint is:
9a:8f:b5:495:39:78:t5:dc:19:d6:29:66:02:e8:02:a0 yourname@yourname-mbpr99.local
</code></pre>
    </div>

    <p>The key’s randomart image is:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>+--[ RSA 2048]----+
|.                |
|+                |
|E                |
|o.   .           |
|.. = o S        |
|.&amp;^  + 7i = o       |
|      = B .      |
|     o O +       |
|      *.o        |
+-----------------+
</code></pre>
    </div>

    <p>As you can see, RSA draws a picture for you. Take a screenshot of the picture, print it out, and put it up on your fridge.</p>
  </li>
  <li>
    <p>Open up another terminal window (in iTerm, open another tab), and SSH in to your remote server:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ssh &lt;your_username&gt;@remoteserver.com
</code></pre>
    </div>
  </li>
  <li>
    <p>Change <code class="highlighter-rouge">&lt;your_username&gt;</code> to your actual username, such as tjohnson.</p>

    <p>When you connect, you’ll be prompted for your password.</p>

    <p>When you connect, by default you are routed to the personal folder on the directory. For example, <code class="highlighter-rouge">/home/remoteserver/&lt;your_username&gt;</code>. To see this directory, type <code class="highlighter-rouge">pwd</code> (or <code class="highlighter-rouge">dir</code> on Windows).</p>
  </li>
  <li>
    <p>Create a new directory called .ssh on remoteserver.com server inside the <code class="highlighter-rouge">/home/remoteserver/&lt;your_username&gt;</code> directory.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  mkdir -p .ssh
</code></pre>
    </div>

    <p>You can ensure that it’s there with this command:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ls -a
</code></pre>
    </div>

    <p>Without the -a, the hidden directory won’t be shown.</p>
  </li>
  <li>
    <p>Open another Terminal window and browse to /Users/<your_username>/.ssh on your local machine.</your_username></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>cd ~/.ssh
</code></pre>
    </div>
  </li>
  <li>
    <p>Copy the id_rsa.pub from the /.ssh directory on your local machine to the /home/remoteserver/<your_username>/.ssh directory on the remoteserver server:</your_username></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>scp id_rsa.pub &lt;your-username&gt;@yourserver.com:/home/remoteserver/&lt;your-username&gt;/.ssh
</code></pre>
    </div>
  </li>
  <li>
    <p>Switch back into your terminal window that is connected to remoteserver.com, change directory to the .ssh directory, and rename the file from id_rsa.pub to <code class="highlighter-rouge">authorized_keys</code> (without any file extension):</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>mv id_rsa.pub authorized_keys
</code></pre>
    </div>
  </li>
  <li>
    <p>Change the file permissions to 700:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>chmod 700 authorized_keys
</code></pre>
    </div>

    <p>Now you should be able to SSH onto remoteserver without any password prompts.</p>
  </li>
  <li>
    <p>Open another terminal (which is not already SSH’d into remoteserver.com) and try the following:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ssh &lt;your_username&gt;@remoteserver.com
</code></pre>
    </div>

    <p>If successful, you shouldn’t be prompted for a password.</p>

    <p>Now that you can connect without password prompts, you can use the scp scripts to transfer files to the server without  password prompts. For example:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>scp -r ../doc_outputs/mydoc/writers &lt;your-username&gt;@remoteserver:/var/www/html/
</code></pre>
    </div>
  </li>
</ol>



    <div class="tags">
        
        <b>Tags: </b>
        
        
        
        <a href="tag_publishing.html" class="btn btn-default navbar-btn cursorNorm" role="button">publishing</a>
        
        
        
        <a href="tag_troubleshooting.html" class="btn btn-default navbar-btn cursorNorm" role="button">troubleshooting</a>
        
        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2013-2017 3Dgenomes.org. All rights reserved. 
					<img src="images/3dgenomes-logo.png" alt="3D Genomes logo" width="32" height="32"/>
					<br />
 Site last generated: Feb 21, 2017 <br />
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>