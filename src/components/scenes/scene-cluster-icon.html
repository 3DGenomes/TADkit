<div ng-controller='SceneController' class="component-controller">
	<div class="component-header">
		<h6>{{state.title}}</h6>
	</div>
	<div class="component-controls">
		<a ng-click='view.controls.autoRotate = !view.controls.autoRotate' class="options toggle-false">
			<md-icon data-ng-hide="view.controls.autoRotate" class="icon-play-arrow"></md-icon>
			<md-icon data-ng-show="view.controls.autoRotate" class="icon-pause"></md-icon>
		</a>
		<a ng-click='toggleOptions()' class="options toggle-{{optionsState}}">
			<md-icon class="icon-settings"></md-icon>
		</a>
	</div>
	<div class="component-options" data-ng-show='optionsState'>
		MODELS
		 <md-checkbox ng-model="view.settings.particles.visible">Particles</md-checkbox>
		 <md-checkbox ng-model="view.settings.chromatin.visible">Chromatin</md-checkbox>
	</div>
	<div>
		<md-grid-list md-cols="4" md-row-height="1:1" md-gutter="12px">
			<md-grid-tile  ng-repeat='cluster in clusters'>
				<md-grid-tile-header>
					<div class="component-caption" layout="column" layout-align="center center">
						<span class="title">Cluster {{cluster.number}}</span>
						<span class="subtitle">({{cluster.list.length}} Model<span ng-hide="cluster.list.length == 1">s</span>)</span>
					</div>
				</md-grid-tile-header>
			</md-grid-tile>
		</md-grid-list>
	</div>
</div>
<script id="vertexShader" type="x-shader/x-vertex">
	attribute float alpha;
	varying vec3 vColor;
	varying float vAlpha;
	void main() {
		vColor = color;
		vAlpha = alpha;
        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
        gl_PointSize = 16.0;
        gl_Position = projectionMatrix * mvPosition;
	}
</script>
<script type="x-shader/x-fragment" id="fragmentShader">  	// uniform vec3 color;
	varying vec3 vColor;
	varying float vAlpha;
	void main() {
		gl_FragColor = vec4(vColor, vAlpha);  // adjust the alpha
		if (gl_FragColor.a < 0.1) discard;
	}
</script>  
