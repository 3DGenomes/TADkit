<md-dialog aria-label="Import Data">
	<md-toolbar class="md-accent">
		<div class="md-toolbar-tools">
		<h2 class="md-flex">Import Data</h2>
		</div>
	</md-toolbar>
  	<md-content class="sticky-container">
		<section>
			<div data-ng-show="fileData">
				<h3>File: {{fileTitle}}</h3>
				Use the checkboxes to indicate which columns are to be imported. Only the fist 10 rows are shown.
				<section>
					<h4>Notes:</h4>
					<ul>
						<li>The imported coordinates should be contained in the current dataset region</li>
						<li>First selected columm must be the chromosome name</li>
						<li>Second selected columm must be the genomic position</li>
						<li>Third, fourth anf fifth selected columms correspond to x, y and z coordinates</li>
					</ul>
				</section>
			</div>
			<div data-ng-hide="fileData">
				Select a file with tabular data to load.<br/>
				The raw file data will be shown here to review before importing.
			</div>
			<table class="filedata" data-ng-show="fileData">
				<tbody>
					<tr><td valign="top"><b>Skip top rows:</b></td>
						<td>
					      <md-input-container style="width: 100px;">
					        <input flex type="number" ng-model="skipRows" aria-label="blue" aria-controls="blue-slider-import">
					      </md-input-container>
					    </td>
					    <td valign="top"><b>Base-pair per nanometer:</b></td>
						<td>
					      <md-input-container style="width: 100px;">
					        <input flex type="number" ng-model="bp_per_nm" aria-label="blue" aria-controls="blue-slider-import">
					      </md-input-container>
					    </td>
					</tr>
				</tbody>
			</table>
			<table class="filedata" data-ng-show="fileData">
				<tbody>
					<tr>
						<td></td>
						<td ng-repeat="selectCol in selectedCols track by $index">
							<md-checkbox ng-model="selectedCols[$index]" class="md-primary" aria-label="Data Column Selection Checkbox"></md-checkbox>
						</td>
					</tr>
					<tr ng-repeat="row in fileData|limitTo:10">
						<td></td>
						<td ng-repeat="col in row track by $index">{{col}}</td>
					</tr>
				</tbody>
			</table>
		</section>
	</md-content>
	<div class="md-actions" layout="row">
		<md-input-container layout-padding>
			<md-input type="file" tk-data-import="parseFile($fileContent)" filetitle="fileTitle" />
		</md-input-container>
		<span flex></span>
		<!-- type=button is needed so form uses submit button -->
		<md-button type=button ng-click="cancel()">Cancel</md-button>
		<md-button type="submit" ng-click="importData(fileData)" class="md-raised md-primary">Import Data</md-button>
	</div>
</md-dialog>