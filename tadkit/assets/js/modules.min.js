!function(){"use strict";angular.module("generic",[])}(),function(){"use strict";function r(){var r={};return r.re_={x11rgb:/^\s*rgb:([a-f0-9]{1,4})\/([a-f0-9]{1,4})\/([a-f0-9]{1,4})\s*$/i},r.colorNames={transparent:"rgb(0, 0, 0)",rust:"rgb(243, 137, 92)",stripes:"rgb(255, 54, 54)",dark_blue:"rgb(0, 0, 139)",contigblue1:"rgb(0, 0, 139)",contigblue2:"rgb(173, 216, 230)","border:grey70":"rgb(179, 179, 179)",aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",antiquewhite1:"rgb(255, 239, 219)",antiquewhite2:"rgb(238, 223, 204)",antiquewhite3:"rgb(205, 192, 176)",antiquewhite4:"rgb(139, 131, 120)",aquamarine:"rgb(127, 255, 212)",aquamarine1:"rgb(127, 255, 212)",aquamarine2:"rgb(118, 238, 198)",aquamarine3:"rgb(102, 205, 170)",aquamarine4:"rgb(69, 139, 116)",azure:"rgb(240, 255, 255)",azure1:"rgb(240, 255, 255)",azure2:"rgb(224, 238, 238)",azure3:"rgb(193, 205, 205)",azure4:"rgb(131, 139, 139)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",bisque1:"rgb(255, 228, 196)",bisque2:"rgb(238, 213, 183)",bisque3:"rgb(205, 183, 158)",bisque4:"rgb(139, 125, 107)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blue1:"rgb(0, 0, 255)",blue2:"rgb(0, 0, 238)",blue3:"rgb(0, 0, 205)",blue4:"rgb(0, 0, 139)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",brown1:"rgb(255, 64, 64)",brown2:"rgb(238, 59, 59)",brown3:"rgb(205, 51, 51)",brown4:"rgb(139, 35, 35)",burlywood:"rgb(222, 184, 135)",burlywood1:"rgb(255, 211, 155)",burlywood2:"rgb(238, 197, 145)",burlywood3:"rgb(205, 170, 125)",burlywood4:"rgb(139, 115, 85)",cadetblue:"rgb(95, 158, 160)",cadetblue1:"rgb(152, 245, 255)",cadetblue2:"rgb(142, 229, 238)",cadetblue3:"rgb(122, 197, 205)",cadetblue4:"rgb(83, 134, 139)",chartreuse:"rgb(127, 255, 0)",chartreuse1:"rgb(127, 255, 0)",chartreuse2:"rgb(118, 238, 0)",chartreuse3:"rgb(102, 205, 0)",chartreuse4:"rgb(69, 139, 0)",chocolate:"rgb(210, 105, 30)",chocolate1:"rgb(255, 127, 36)",chocolate2:"rgb(238, 118, 33)",chocolate3:"rgb(205, 102, 29)",chocolate4:"rgb(139, 69, 19)",coral:"rgb(255, 127, 80)",coral1:"rgb(255, 114, 86)",coral2:"rgb(238, 106, 80)",coral3:"rgb(205, 91, 69)",coral4:"rgb(139, 62, 47)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",cornsilk1:"rgb(255, 248, 220)",cornsilk2:"rgb(238, 232, 205)",cornsilk3:"rgb(205, 200, 177)",cornsilk4:"rgb(139, 136, 120)",cyan:"rgb(0, 255, 255)",cyan1:"rgb(0, 255, 255)",cyan2:"rgb(0, 238, 238)",cyan3:"rgb(0, 205, 205)",cyan4:"rgb(0, 139, 139)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgoldenrod1:"rgb(255, 185, 15)",darkgoldenrod2:"rgb(238, 173, 14)",darkgoldenrod3:"rgb(205, 149, 12)",darkgoldenrod4:"rgb(139, 101, 8)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkolivegreen1:"rgb(202, 255, 112)",darkolivegreen2:"rgb(188, 238, 104)",darkolivegreen3:"rgb(162, 205, 90)",darkolivegreen4:"rgb(110, 139, 61)",darkorange:"rgb(255, 140, 0)",darkorange1:"rgb(255, 127, 0)",darkorange2:"rgb(238, 118, 0)",darkorange3:"rgb(205, 102, 0)",darkorange4:"rgb(139, 69, 0)",darkorchid:"rgb(153, 50, 204)",darkorchid1:"rgb(191, 62, 255)",darkorchid2:"rgb(178, 58, 238)",darkorchid3:"rgb(154, 50, 205)",darkorchid4:"rgb(104, 34, 139)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkseagreen1:"rgb(193, 255, 193)",darkseagreen2:"rgb(180, 238, 180)",darkseagreen3:"rgb(155, 205, 155)",darkseagreen4:"rgb(105, 139, 105)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategray1:"rgb(151, 255, 255)",darkslategray2:"rgb(141, 238, 238)",darkslategray3:"rgb(121, 205, 205)",darkslategray4:"rgb(82, 139, 139)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",debianred:"rgb(215, 7, 81)",deeppink:"rgb(255, 20, 147)",deeppink1:"rgb(255, 20, 147)",deeppink2:"rgb(238, 18, 137)",deeppink3:"rgb(205, 16, 118)",deeppink4:"rgb(139, 10, 80)",deepskyblue:"rgb(0, 191, 255)",deepskyblue1:"rgb(0, 191, 255)",deepskyblue2:"rgb(0, 178, 238)",deepskyblue3:"rgb(0, 154, 205)",deepskyblue4:"rgb(0, 104, 139)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",dodgerblue1:"rgb(30, 144, 255)",dodgerblue2:"rgb(28, 134, 238)",dodgerblue3:"rgb(24, 116, 205)",dodgerblue4:"rgb(16, 78, 139)",firebrick:"rgb(178, 34, 34)",firebrick1:"rgb(255, 48, 48)",firebrick2:"rgb(238, 44, 44)",firebrick3:"rgb(205, 38, 38)",firebrick4:"rgb(139, 26, 26)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",gold1:"rgb(255, 215, 0)",gold2:"rgb(238, 201, 0)",gold3:"rgb(205, 173, 0)",gold4:"rgb(139, 117, 0)",goldenrod:"rgb(218, 165, 32)",goldenrod1:"rgb(255, 193, 37)",goldenrod2:"rgb(238, 180, 34)",goldenrod3:"rgb(205, 155, 29)",goldenrod4:"rgb(139, 105, 20)",gray:"rgb(190, 190, 190)",gray0:"rgb(0, 0, 0)",gray1:"rgb(3, 3, 3)",gray10:"rgb(26, 26, 26)",gray100:"rgb(255, 255, 255)",gray11:"rgb(28, 28, 28)",gray12:"rgb(31, 31, 31)",gray13:"rgb(33, 33, 33)",gray14:"rgb(36, 36, 36)",gray15:"rgb(38, 38, 38)",gray16:"rgb(41, 41, 41)",gray17:"rgb(43, 43, 43)",gray18:"rgb(46, 46, 46)",gray19:"rgb(48, 48, 48)",gray2:"rgb(5, 5, 5)",gray20:"rgb(51, 51, 51)",gray21:"rgb(54, 54, 54)",gray22:"rgb(56, 56, 56)",gray23:"rgb(59, 59, 59)",gray24:"rgb(61, 61, 61)",gray25:"rgb(64, 64, 64)",gray26:"rgb(66, 66, 66)",gray27:"rgb(69, 69, 69)",gray28:"rgb(71, 71, 71)",gray29:"rgb(74, 74, 74)",gray3:"rgb(8, 8, 8)",gray30:"rgb(77, 77, 77)",gray31:"rgb(79, 79, 79)",gray32:"rgb(82, 82, 82)",gray33:"rgb(84, 84, 84)",gray34:"rgb(87, 87, 87)",gray35:"rgb(89, 89, 89)",gray36:"rgb(92, 92, 92)",gray37:"rgb(94, 94, 94)",gray38:"rgb(97, 97, 97)",gray39:"rgb(99, 99, 99)",gray4:"rgb(10, 10, 10)",gray40:"rgb(102, 102, 102)",gray41:"rgb(105, 105, 105)",gray42:"rgb(107, 107, 107)",gray43:"rgb(110, 110, 110)",gray44:"rgb(112, 112, 112)",gray45:"rgb(115, 115, 115)",gray46:"rgb(117, 117, 117)",gray47:"rgb(120, 120, 120)",gray48:"rgb(122, 122, 122)",gray49:"rgb(125, 125, 125)",gray5:"rgb(13, 13, 13)",gray50:"rgb(127, 127, 127)",gray51:"rgb(130, 130, 130)",gray52:"rgb(133, 133, 133)",gray53:"rgb(135, 135, 135)",gray54:"rgb(138, 138, 138)",gray55:"rgb(140, 140, 140)",gray56:"rgb(143, 143, 143)",gray57:"rgb(145, 145, 145)",gray58:"rgb(148, 148, 148)",gray59:"rgb(150, 150, 150)",gray6:"rgb(15, 15, 15)",gray60:"rgb(153, 153, 153)",gray61:"rgb(156, 156, 156)",gray62:"rgb(158, 158, 158)",gray63:"rgb(161, 161, 161)",gray64:"rgb(163, 163, 163)",gray65:"rgb(166, 166, 166)",gray66:"rgb(168, 168, 168)",gray67:"rgb(171, 171, 171)",gray68:"rgb(173, 173, 173)",gray69:"rgb(176, 176, 176)",gray7:"rgb(18, 18, 18)",gray70:"rgb(179, 179, 179)",gray71:"rgb(181, 181, 181)",gray72:"rgb(184, 184, 184)",gray73:"rgb(186, 186, 186)",gray74:"rgb(189, 189, 189)",gray75:"rgb(191, 191, 191)",gray76:"rgb(194, 194, 194)",gray77:"rgb(196, 196, 196)",gray78:"rgb(199, 199, 199)",gray79:"rgb(201, 201, 201)",gray8:"rgb(20, 20, 20)",gray80:"rgb(204, 204, 204)",gray81:"rgb(207, 207, 207)",gray82:"rgb(209, 209, 209)",gray83:"rgb(212, 212, 212)",gray84:"rgb(214, 214, 214)",gray85:"rgb(217, 217, 217)",gray86:"rgb(219, 219, 219)",gray87:"rgb(222, 222, 222)",gray88:"rgb(224, 224, 224)",gray89:"rgb(227, 227, 227)",gray9:"rgb(23, 23, 23)",gray90:"rgb(229, 229, 229)",gray91:"rgb(232, 232, 232)",gray92:"rgb(235, 235, 235)",gray93:"rgb(237, 237, 237)",gray94:"rgb(240, 240, 240)",gray95:"rgb(242, 242, 242)",gray96:"rgb(245, 245, 245)",gray97:"rgb(247, 247, 247)",gray98:"rgb(250, 250, 250)",gray99:"rgb(252, 252, 252)",green:"rgb(0, 255, 0)",green1:"rgb(0, 255, 0)",green2:"rgb(0, 238, 0)",green3:"rgb(0, 205, 0)",green4:"rgb(0, 139, 0)",greenyellow:"rgb(173, 255, 47)",grey:"rgb(190, 190, 190)",grey0:"rgb(0, 0, 0)",grey1:"rgb(3, 3, 3)",grey10:"rgb(26, 26, 26)",grey100:"rgb(255, 255, 255)",grey11:"rgb(28, 28, 28)",grey12:"rgb(31, 31, 31)",grey13:"rgb(33, 33, 33)",grey14:"rgb(36, 36, 36)",grey15:"rgb(38, 38, 38)",grey16:"rgb(41, 41, 41)",grey17:"rgb(43, 43, 43)",grey18:"rgb(46, 46, 46)",grey19:"rgb(48, 48, 48)",grey2:"rgb(5, 5, 5)",grey20:"rgb(51, 51, 51)",grey21:"rgb(54, 54, 54)",grey22:"rgb(56, 56, 56)",grey23:"rgb(59, 59, 59)",grey24:"rgb(61, 61, 61)",grey25:"rgb(64, 64, 64)",grey26:"rgb(66, 66, 66)",grey27:"rgb(69, 69, 69)",grey28:"rgb(71, 71, 71)",grey29:"rgb(74, 74, 74)",grey3:"rgb(8, 8, 8)",grey30:"rgb(77, 77, 77)",grey31:"rgb(79, 79, 79)",grey32:"rgb(82, 82, 82)",grey33:"rgb(84, 84, 84)",grey34:"rgb(87, 87, 87)",grey35:"rgb(89, 89, 89)",grey36:"rgb(92, 92, 92)",grey37:"rgb(94, 94, 94)",grey38:"rgb(97, 97, 97)",grey39:"rgb(99, 99, 99)",grey4:"rgb(10, 10, 10)",grey40:"rgb(102, 102, 102)",grey41:"rgb(105, 105, 105)",grey42:"rgb(107, 107, 107)",grey43:"rgb(110, 110, 110)",grey44:"rgb(112, 112, 112)",grey45:"rgb(115, 115, 115)",grey46:"rgb(117, 117, 117)",grey47:"rgb(120, 120, 120)",grey48:"rgb(122, 122, 122)",grey49:"rgb(125, 125, 125)",grey5:"rgb(13, 13, 13)",grey50:"rgb(127, 127, 127)",grey51:"rgb(130, 130, 130)",grey52:"rgb(133, 133, 133)",grey53:"rgb(135, 135, 135)",grey54:"rgb(138, 138, 138)",grey55:"rgb(140, 140, 140)",grey56:"rgb(143, 143, 143)",grey57:"rgb(145, 145, 145)",grey58:"rgb(148, 148, 148)",grey59:"rgb(150, 150, 150)",grey6:"rgb(15, 15, 15)",grey60:"rgb(153, 153, 153)",grey61:"rgb(156, 156, 156)",grey62:"rgb(158, 158, 158)",grey63:"rgb(161, 161, 161)",grey64:"rgb(163, 163, 163)",grey65:"rgb(166, 166, 166)",grey66:"rgb(168, 168, 168)",grey67:"rgb(171, 171, 171)",grey68:"rgb(173, 173, 173)",grey69:"rgb(176, 176, 176)",grey7:"rgb(18, 18, 18)",grey70:"rgb(179, 179, 179)",grey71:"rgb(181, 181, 181)",grey72:"rgb(184, 184, 184)",grey73:"rgb(186, 186, 186)",grey74:"rgb(189, 189, 189)",grey75:"rgb(191, 191, 191)",grey76:"rgb(194, 194, 194)",grey77:"rgb(196, 196, 196)",grey78:"rgb(199, 199, 199)",grey79:"rgb(201, 201, 201)",grey8:"rgb(20, 20, 20)",grey80:"rgb(204, 204, 204)",grey81:"rgb(207, 207, 207)",grey82:"rgb(209, 209, 209)",grey83:"rgb(212, 212, 212)",grey84:"rgb(214, 214, 214)",grey85:"rgb(217, 217, 217)",grey86:"rgb(219, 219, 219)",grey87:"rgb(222, 222, 222)",grey88:"rgb(224, 224, 224)",grey89:"rgb(227, 227, 227)",grey9:"rgb(23, 23, 23)",grey90:"rgb(229, 229, 229)",grey91:"rgb(232, 232, 232)",grey92:"rgb(235, 235, 235)",grey93:"rgb(237, 237, 237)",grey94:"rgb(240, 240, 240)",grey95:"rgb(242, 242, 242)",grey96:"rgb(245, 245, 245)",grey97:"rgb(247, 247, 247)",grey98:"rgb(250, 250, 250)",grey99:"rgb(252, 252, 252)",honeydew:"rgb(240, 255, 240)",honeydew1:"rgb(240, 255, 240)",honeydew2:"rgb(224, 238, 224)",honeydew3:"rgb(193, 205, 193)",honeydew4:"rgb(131, 139, 131)",hotpink:"rgb(255, 105, 180)",hotpink1:"rgb(255, 110, 180)",hotpink2:"rgb(238, 106, 167)",hotpink3:"rgb(205, 96, 144)",hotpink4:"rgb(139, 58, 98)",indianred:"rgb(205, 92, 92)",indianred1:"rgb(255, 106, 106)",indianred2:"rgb(238, 99, 99)",indianred3:"rgb(205, 85, 85)",indianred4:"rgb(139, 58, 58)",ivory:"rgb(255, 255, 240)",ivory1:"rgb(255, 255, 240)",ivory2:"rgb(238, 238, 224)",ivory3:"rgb(205, 205, 193)",ivory4:"rgb(139, 139, 131)",khaki:"rgb(240, 230, 140)",khaki1:"rgb(255, 246, 143)",khaki2:"rgb(238, 230, 133)",khaki3:"rgb(205, 198, 115)",khaki4:"rgb(139, 134, 78)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lavenderblush1:"rgb(255, 240, 245)",lavenderblush2:"rgb(238, 224, 229)",lavenderblush3:"rgb(205, 193, 197)",lavenderblush4:"rgb(139, 131, 134)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lemonchiffon1:"rgb(255, 250, 205)",lemonchiffon2:"rgb(238, 233, 191)",lemonchiffon3:"rgb(205, 201, 165)",lemonchiffon4:"rgb(139, 137, 112)",lightblue:"rgb(173, 216, 230)",lightblue1:"rgb(191, 239, 255)",lightblue2:"rgb(178, 223, 238)",lightblue3:"rgb(154, 192, 205)",lightblue4:"rgb(104, 131, 139)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightcyan1:"rgb(224, 255, 255)",lightcyan2:"rgb(209, 238, 238)",lightcyan3:"rgb(180, 205, 205)",lightcyan4:"rgb(122, 139, 139)",lightgoldenrod:"rgb(238, 221, 130)",lightgoldenrod1:"rgb(255, 236, 139)",lightgoldenrod2:"rgb(238, 220, 130)",lightgoldenrod3:"rgb(205, 190, 112)",lightgoldenrod4:"rgb(139, 129, 76)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightpink1:"rgb(255, 174, 185)",lightpink2:"rgb(238, 162, 173)",lightpink3:"rgb(205, 140, 149)",lightpink4:"rgb(139, 95, 101)",lightsalmon:"rgb(255, 160, 122)",lightsalmon1:"rgb(255, 160, 122)",lightsalmon2:"rgb(238, 149, 114)",lightsalmon3:"rgb(205, 129, 98)",lightsalmon4:"rgb(139, 87, 66)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightskyblue1:"rgb(176, 226, 255)",lightskyblue2:"rgb(164, 211, 238)",lightskyblue3:"rgb(141, 182, 205)",lightskyblue4:"rgb(96, 123, 139)",lightslateblue:"rgb(132, 112, 255)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightsteelblue1:"rgb(202, 225, 255)",lightsteelblue2:"rgb(188, 210, 238)",lightsteelblue3:"rgb(162, 181, 205)",lightsteelblue4:"rgb(110, 123, 139)",lightyellow:"rgb(255, 255, 224)",lightyellow1:"rgb(255, 255, 224)",lightyellow2:"rgb(238, 238, 209)",lightyellow3:"rgb(205, 205, 180)",lightyellow4:"rgb(139, 139, 122)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",magenta1:"rgb(255, 0, 255)",magenta2:"rgb(238, 0, 238)",magenta3:"rgb(205, 0, 205)",magenta4:"rgb(139, 0, 139)",maroon:"rgb(176, 48, 96)",maroon1:"rgb(255, 52, 179)",maroon2:"rgb(238, 48, 167)",maroon3:"rgb(205, 41, 144)",maroon4:"rgb(139, 28, 98)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumorchid1:"rgb(224, 102, 255)",mediumorchid2:"rgb(209, 95, 238)",mediumorchid3:"rgb(180, 82, 205)",mediumorchid4:"rgb(122, 55, 139)",mediumpurple:"rgb(147, 112, 219)",mediumpurple1:"rgb(171, 130, 255)",mediumpurple2:"rgb(159, 121, 238)",mediumpurple3:"rgb(137, 104, 205)",mediumpurple4:"rgb(93, 71, 139)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",mistyrose1:"rgb(255, 228, 225)",mistyrose2:"rgb(238, 213, 210)",mistyrose3:"rgb(205, 183, 181)",mistyrose4:"rgb(139, 125, 123)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navajowhite1:"rgb(255, 222, 173)",navajowhite2:"rgb(238, 207, 161)",navajowhite3:"rgb(205, 179, 139)",navajowhite4:"rgb(139, 121, 94)",navy:"rgb(0, 0, 128)",navyblue:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olivedrab:"rgb(107, 142, 35)",olivedrab1:"rgb(192, 255, 62)",olivedrab2:"rgb(179, 238, 58)",olivedrab3:"rgb(154, 205, 50)",olivedrab4:"rgb(105, 139, 34)",orange:"rgb(255, 165, 0)",orange1:"rgb(255, 165, 0)",orange2:"rgb(238, 154, 0)",orange3:"rgb(205, 133, 0)",orange4:"rgb(139, 90, 0)",orangered:"rgb(255, 69, 0)",orangered1:"rgb(255, 69, 0)",orangered2:"rgb(238, 64, 0)",orangered3:"rgb(205, 55, 0)",orangered4:"rgb(139, 37, 0)",orchid:"rgb(218, 112, 214)",orchid1:"rgb(255, 131, 250)",orchid2:"rgb(238, 122, 233)",orchid3:"rgb(205, 105, 201)",orchid4:"rgb(139, 71, 137)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",palegreen1:"rgb(154, 255, 154)",palegreen2:"rgb(144, 238, 144)",palegreen3:"rgb(124, 205, 124)",palegreen4:"rgb(84, 139, 84)",paleturquoise:"rgb(175, 238, 238)",paleturquoise1:"rgb(187, 255, 255)",paleturquoise2:"rgb(174, 238, 238)",paleturquoise3:"rgb(150, 205, 205)",paleturquoise4:"rgb(102, 139, 139)",palevioletred:"rgb(219, 112, 147)",palevioletred1:"rgb(255, 130, 171)",palevioletred2:"rgb(238, 121, 159)",palevioletred3:"rgb(205, 104, 137)",palevioletred4:"rgb(139, 71, 93)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peachpuff1:"rgb(255, 218, 185)",peachpuff2:"rgb(238, 203, 173)",peachpuff3:"rgb(205, 175, 149)",peachpuff4:"rgb(139, 119, 101)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",pink1:"rgb(255, 181, 197)",pink2:"rgb(238, 169, 184)",pink3:"rgb(205, 145, 158)",pink4:"rgb(139, 99, 108)",plum:"rgb(221, 160, 221)",plum1:"rgb(255, 187, 255)",plum2:"rgb(238, 174, 238)",plum3:"rgb(205, 150, 205)",plum4:"rgb(139, 102, 139)",powderblue:"rgb(176, 224, 230)",purple:"rgb(160, 32, 240)",purple1:"rgb(155, 48, 255)",purple2:"rgb(145, 44, 238)",purple3:"rgb(125, 38, 205)",purple4:"rgb(85, 26, 139)",red:"rgb(255, 0, 0)",red1:"rgb(255, 0, 0)",red2:"rgb(238, 0, 0)",red3:"rgb(205, 0, 0)",red4:"rgb(139, 0, 0)",rosybrown:"rgb(188, 143, 143)",rosybrown1:"rgb(255, 193, 193)",rosybrown2:"rgb(238, 180, 180)",rosybrown3:"rgb(205, 155, 155)",rosybrown4:"rgb(139, 105, 105)",royalblue:"rgb(65, 105, 225)",royalblue1:"rgb(72, 118, 255)",royalblue2:"rgb(67, 110, 238)",royalblue3:"rgb(58, 95, 205)",royalblue4:"rgb(39, 64, 139)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",salmon1:"rgb(255, 140, 105)",salmon2:"rgb(238, 130, 98)",salmon3:"rgb(205, 112, 84)",salmon4:"rgb(139, 76, 57)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seagreen1:"rgb(84, 255, 159)",seagreen2:"rgb(78, 238, 148)",seagreen3:"rgb(67, 205, 128)",seagreen4:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",seashell1:"rgb(255, 245, 238)",seashell2:"rgb(238, 229, 222)",seashell3:"rgb(205, 197, 191)",seashell4:"rgb(139, 134, 130)",sienna:"rgb(160, 82, 45)",sienna1:"rgb(255, 130, 71)",sienna2:"rgb(238, 121, 66)",sienna3:"rgb(205, 104, 57)",sienna4:"rgb(139, 71, 38)",skyblue:"rgb(135, 206, 235)",skyblue1:"rgb(135, 206, 255)",skyblue2:"rgb(126, 192, 238)",skyblue3:"rgb(108, 166, 205)",skyblue4:"rgb(74, 112, 139)",slateblue:"rgb(106, 90, 205)",slateblue1:"rgb(131, 111, 255)",slateblue2:"rgb(122, 103, 238)",slateblue3:"rgb(105, 89, 205)",slateblue4:"rgb(71, 60, 139)",slategray:"rgb(112, 128, 144)",slategray1:"rgb(198, 226, 255)",slategray2:"rgb(185, 211, 238)",slategray3:"rgb(159, 182, 205)",slategray4:"rgb(108, 123, 139)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",snow1:"rgb(255, 250, 250)",snow2:"rgb(238, 233, 233)",snow3:"rgb(205, 201, 201)",snow4:"rgb(139, 137, 137)",springgreen:"rgb(0, 255, 127)",springgreen1:"rgb(0, 255, 127)",springgreen2:"rgb(0, 238, 118)",springgreen3:"rgb(0, 205, 102)",springgreen4:"rgb(0, 139, 69)",steelblue:"rgb(70, 130, 180)",steelblue1:"rgb(99, 184, 255)",steelblue2:"rgb(92, 172, 238)",steelblue3:"rgb(79, 148, 205)",steelblue4:"rgb(54, 100, 139)",tan:"rgb(210, 180, 140)",tan1:"rgb(255, 165, 79)",tan2:"rgb(238, 154, 73)",tan3:"rgb(205, 133, 63)",tan4:"rgb(139, 90, 43)",thistle:"rgb(216, 191, 216)",thistle1:"rgb(255, 225, 255)",thistle2:"rgb(238, 210, 238)",thistle3:"rgb(205, 181, 205)",thistle4:"rgb(139, 123, 139)",tomato:"rgb(255, 99, 71)",tomato1:"rgb(255, 99, 71)",tomato2:"rgb(238, 92, 66)",tomato3:"rgb(205, 79, 57)",tomato4:"rgb(139, 54, 38)",turquoise:"rgb(64, 224, 208)",turquoise1:"rgb(0, 245, 255)",turquoise2:"rgb(0, 229, 238)",turquoise3:"rgb(0, 197, 205)",turquoise4:"rgb(0, 134, 139)",violet:"rgb(238, 130, 238)",violetred:"rgb(208, 32, 144)",violetred1:"rgb(255, 62, 150)",violetred2:"rgb(238, 58, 140)",violetred3:"rgb(205, 50, 120)",violetred4:"rgb(139, 34, 82)",wheat:"rgb(245, 222, 179)",wheat1:"rgb(255, 231, 186)",wheat2:"rgb(238, 216, 174)",wheat3:"rgb(205, 186, 150)",wheat4:"rgb(139, 126, 102)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellow1:"rgb(255, 255, 0)",yellow2:"rgb(238, 238, 0)",yellow3:"rgb(205, 205, 0)",yellow4:"rgb(139, 139, 0)",yellowgreen:"rgb(154, 205, 50)"},{testIfHex:function(r){var e=/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(r);return e},rgbToHex:function(r){var e=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(r),g=parseInt(e[2]),n=parseInt(e[3]),t=parseInt(e[4]),a=((1<<24)+(g<<16)+(n<<8)+t).toString(16).slice(1);return"#"+a},nameToHex:function(e){var g,n=this.testIfHex(e);return n?"#"+e:e in r.colorNames?g=this.rgbToHex(r.colorNames[e]):(e=e.toLowerCase(),e in r.colorNames?g=this.rgbToHex(r.colorNames[e]):(e=e.replace(/\s+/g,""),e in r.colorNames?g=this.rgbToHex(r.colorNames[e]):null))},THREEColorsFromHex:function(r){for(var e=[],g=r.length-1;g>=0;g--){var n=new THREE.Color(r[g]);e.unshift(n)}return e},vertexColorsFromTHREEColors:function(r){for(var e=new Float32Array(6*r.length),g=r.length-1;g>=0;g--){var n=6*g,t=r[g];e[n]=t.r,e[n+1]=t.g,e[n+2]=t.b,e[n+3]=t.r,e[n+4]=t.g,e[n+5]=t.b}return e}}}angular.module("generic").factory("Color",r)}(),function(){"use strict";function r(){return{whatIsIt:function(r){var e="test".constructor,g=[].constructor,n={}.constructor;return null===r?"null":void 0===r?"undefined":r.constructor===e?"String":r.constructor===g?"Array":r.constructor===n?"Object":"don't know"}}}angular.module("generic").factory("Utils",r)}(),function(){"use strict";function r(r){return{restrict:"A",scope:{},link:function(e,g,n,t){r.$on("$stateChangeSuccess",function(r,e,n,t,a){var o=angular.isDefined(t.data)&&angular.isDefined(t.data.cssClassnames)?t.data.cssClassnames:null,b=angular.isDefined(e.data)&&angular.isDefined(e.data.cssClassnames)?e.data.cssClassnames:null;o!=b&&(o&&g.removeClass(o),b&&g.addClass(b))})}}}angular.module("generic").directive("routeCssClassnames",r),r.$inject=["$rootScope"]}(),function(){"use strict";angular.module("ui",[])}(),function(){"use strict";function r(r,e,g){return{restrict:"A",link:function(e,n,t){var a=t.dropzone,o=g(a),b=function(r){r.preventDefault(),n.addClass("dragOver")},i=function(r){r.preventDefault(),n.removeClass("dragOver")},s=function(g){var n=new FileReader;n.onload=function(r){e.$apply(function(){o(e,{$fileContent:r.target.result}),e.addDataset(r.target.result)})},n.readAsText(g),r.info("File loaded...")};n.bind("dragover",b).bind("dragleave",i).bind("drop",function(r){i(r),s(r.dataTransfer.files[0])}),e.$watch(a,function(){n.attr("src",o(e))})}}}angular.module("ui").directive("uiDropzone",r),r.$inject=["$log","$state","$parse"]}(),function(){"use strict";function r(r,e,g){return{restrict:"A",scope:!1,link:function(e,n,t){var a=g(t.uiLoader);n.on("change",function(g){var n=new FileReader;n.onload=function(g){r.info("Data loaded OK!"),e.$apply(function(){a(e,{$fileContent:g.target.result})})},n.readAsText((g.srcElement||g.target).files[0])})}}}angular.module("ui").directive("uiLoader",r),r.$inject=["$log","$state","$parse"]}(),function(){"use strict";angular.module("bioinformatics",[])}(),function(){"use strict";function r(r,e,g,n){var t={};return{load:function(){var a,o=this,b=g.defer();return a=r?"https://cdn.rawgit.com/Ensembl/ensembl-webcode/release/75/conf/ini-files/COLOUR.ini":"assets/offline/ensembl-webcode-colors.json",n.get(a).success(function(g){var n;n=r?o.colorsFromIni(g):g,t=n,e.debug("Ensembl webcode biotype colors retrieved Ensembl."),b.resolve(n)}),b.promise},get:function(r){return r?t[r]:t},colorsFromIni:function(r){var e=this,g={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([\w\.\-\_]+)\s*=\s*([\w\.\-\_]+)/,comment:/^\s*#.*$/},n={},t=r.split(/\r\n|\r|\n/),a=null;return t.forEach(function(r){if(!g.comment.test(r)&&""!==r){var t;if(g.param.test(r))if(t=r.match(g.param),a){var o=e.nameToHex(t[2]);n[a][t[1]]=o}else n[t[1]]=t[2];else g.section.test(r)?(t=r.match(g.section),n[t[1]]={},a=t[1]):0===r.length&&a&&(a=null)}}),n}}}angular.module("bioinformatics").factory("EnsemblColors",r),r.$inject=["ONLINE","$log","$q","$http"]}(),function(){"use strict";function r(r,e,g,n){var t={root:"http://rest.ensemblgenomes.org/",online:!0,assembly:{},colors:{}};return{ping:function(){e.debug("Pinging Ensembl RESTful genomic data server...");var r=g.defer(),a=t.root+"info/ping?content-type=application/json";return n.get(a).success(function(g){e.debug(g),1===g.ping?(t.online=!0,e.debug("Ensembl RESTful is contactable.")):t.online=!1,r.resolve(t.online)}),r.promise},load:function(t,a){t=t||["http://rest.ensemblgenomes.org/overlap/region/","species","/","chrom",":","chromStart","-","chromEnd","?feature=gene;content-type=application/json"],a=a||{species:"Drosophila melanogaster",speciesUrl:"drosophila_melanogaster",chrom:"X",chromStart:1559e4,chromEnd:166e5};var o,b=g.defer(),i=this;return o=r?t.object.url[0]+a.speciesUrl+t.object.url[2]+a.chrom+t.object.url[4]+a.chromStart+t.object.url[6]+a.chromEnd+t.object.url[8]:"assets/offline/"+a.speciesUrl+"-genes.json",n.get(o).success(function(g){var n=i.setBiotypeStyle(g);t.data=n;var o=a.chrom+":"+a.chromStart+"-"+a.chromEnd,s=r?"Ensembl":"local storage";e.info("Genes for "+a.species+" "+o+" retreived from "+s+"."),b.resolve(t)}),b.promise},setBiotypeStyle:function(r){return angular.forEach(r,function(r,e){var g=r.biotype.toLowerCase();r.biotypeStyle=g}),r},setLengthBP:function(r){var e=0,g=r;for(var n in g)if(g.hasOwnProperty(n))for(var t=0,a=g.length;a>t;t++)e+=g[t].length;return e},get:function(){return t}}}angular.module("bioinformatics").factory("FeaturesEnsembl",r),r.$inject=["ONLINE","$log","$q","$http"]}(),function(){"use strict";angular.module("browsers",[])}(),function(){"use strict";function r(r,e,g,n,t,a,o){function b(r){var g=n.defer();if(!r){var a="modules/genoverse/genoverse-config.txt";t({url:a,method:"GET",transformResponse:void 0,responseType:"text"}).success(function(n){console.log(n),r=n,e.debug("Genoverse default config loaded from "+a),g.resolve(r)}),console.log("Genoverse default config loaded.")}return g.promise}return{load:function(t){function o(){var e=g[0].createElement("script");e.type="text/javascript",e.async=!0,e.text=t,r?e.src="http://wtsi-web.github.io/Genoverse/js/genoverse.combined.js":e.src="assets/js/genoverse.combined.js",e.onreadystatechange=function(){"complete"==this.readyState&&i()},e.onload=i();var n=g[0].createElement("link");n.rel="stylesheet",n.type="text/css",n.href="assets/js/genoverse-reset.css";var a=g[0].getElementsByTagName("body")[0];a.appendChild(e),a.appendChild(n)}function i(){e.log("Genoverse loaded OK!"),a(function(){s.resolve(window.Genoverse)})}t=t||"",e.log("Genoverse loading...");var s=n.defer();return b(t),o(),s.promise}}}angular.module("browsers").factory("GenoverseService",r),r.$inject=["ONLINE","$log","$document","$q","$http","$timeout","$rootScope"]}(),function(){"use strict";function r(r,e,g,n,t){function a(t){function a(){r.$apply(function(){i.resolve(l)})}function b(r){var e=g[0].createElement(r.nodeName);"link"==r.nodeName?(e.type="text/css",e.href=o+r.filename,e.rel="stylesheet"):"script"==r.nodeName&&(e.type="text/javascript",e.src=o+r.filename,e.async=!0),e.onreadystatechange=function(){"complete"==this.readyState&&a()},e.onload=a;var n=g[0].getElementsByTagName("body")[0];n.appendChild(e)}var i=n.defer(),s=t.substr(t.lastIndexOf(".")+1),l={filename:t,filetype:s};return"css"==s?l.nodeName="link":"js"==s?l.nodeName="script":e.warn('JsorollaService: "'+s+'" is not a valid filetype!'),b(l),i.promise}var o="assets/js/genome-viewer/";return{load:function(){e.log("OpenCB Jsorolla Genome Viewer loading...");var r=[];r.push("vendor/fontawesome/css/font-awesome.min.css"),r.push("vendor/qtip2/jquery.qtip.min.css"),r.push("styles/css/style.css"),r.push("vendor/underscore/underscore-min.js"),r.push("vendor/backbone/backbone.js"),r.push("vendor/jquery/dist/jquery.min.js"),r.push("vendor/qtip2/jquery.qtip.min.js"),r.push("vendor/uri.js/src/URI.min.js"),r.push("gv-config.js"),r.push("genome-viewer.js");var g=[];return angular.forEach(r,function(r,e){g.push(a(r))}),n.all(g).then(function(r){return e.log("OpenCB Jsorolla Genome Viewer loaded OK!"),r})}}}angular.module("browsers").factory("JsorollaService",r),r.$inject=["$rootScope","$log","$document","$q","$timeout"]}(),function(){"use strict";angular.module("modeling",[])}(),function(){"use strict";function r(r,e,g){var n={loaded:[],current:{dataset:{},index:0,cluster:1,centroid:1}};return{load:function(r){r=r||"error",n.current.dataset=r;var t=this,a=(g.defer(),t.sort(r));return g.all([a]).then(function(){e.debug("Defaults initialized.")})},sort:function(){for(var g=this,t=n.current.dataset.clusters.length-1;t>=0;t--){var a={};a.ref=t+1,a.centroid=g.getCentroidRef(a.ref),a.list=n.current.dataset.clusters[t],a.centroidIndex=a.list.indexOf(a.centroid),a.data=[];for(var o=a.list.length-1;o>=0;o--){for(var b,i=n.current.dataset.models.length-1;i>=0;i--){var s=n.current.dataset.models[i];parseInt(s.ref)==a.list[o]&&(b=s.data,r&&e.debug("Model "+s.ref+" in Cluster "+a.ref))}b?a.data.unshift(b):e.error("Listed model not found!")}n.loaded.unshift(a)}return n.current.ref=1,n},setCluster:function(r){var e=this;r=r||1,n.current.index=r-1;var g=e.getCentroidRef(n.current.index);e.setCentroid(g);var t=e.getCluster();return t},setCentroid:function(r){var e=this;r=r||e.getCentroidRef(),n.current.centroid=r;var g=e.setModel(n.current.centroid);return g},setModel:function(r){var e=this;r=r||e.getCentroidRef();var g=e.getModel(r-1);return n.current.dataset.data=g,g},get:function(){return n.loaded},getCluster:function(r){r=r||n.current.ref;var e=n.loaded[r-1];return e},getClusterModels:function(r){r=r||n.current.ref;var e=n.loaded[r-1];return e},getCentroidRef:function(r){r=r||n.current.ref;var e=n.current.dataset.centroids[r-1];return e},getModel:function(r){var e=this;r=r||e.getCentroidRef();for(var g,t=n.current.dataset.models.length-1;t>=0;t--)n.current.dataset.models[t].ref==r&&(g=n.current.dataset.models[t]);return g},getModelData:function(r){var e=this,g=e.getModel(r);return g.data}}}angular.module("modeling").factory("Clusters",r),r.$inject=["VERBOSE","$log","$q"]}(),function(){"use strict";function r(r,e){var g={dimension:0,positions:[],distances:[]},n={dimension:0,positions:[],distances:[]};return{set:function(n,t){var a={minDistance:150,maxDistance:400,limitConnections:!0,maxConnections:200};t=t||{},angular.extend(this,angular.copy(a),t),this.maxDistance=this.getMaxDistance(n);var o=0,b=0;g.dimension=n.length/3;for(var i=g.dimension*g.dimension,s=2*i,l=new Float32Array(3*s),u=new Float32Array(i),c=g.dimension-1,d=c;d>=0;d--)for(var y=c;y>=0;y--){var f=n[3*d]-n[3*y],h=n[3*d+1]-n[3*y+1],p=n[3*d+2]-n[3*y+2],m=Math.sqrt(f*f+h*h+p*p);r&&0===d&&0===y&&e.debug("i:"+d+" ("+n[3*d]+","+n[3*d+1]+","+n[3*d+2]+") j:"+y+" ("+n[3*y]+","+n[3*y+1]+","+n[3*y+2]+")"),l[o++]=n[3*d],l[o++]=n[3*d+1],l[o++]=n[3*d+2],l[o++]=n[3*y],l[o++]=n[3*y+1],l[o++]=n[3*y+2];var v=1-m/this.maxDistance;u[b++]=v}return g.positions=l,g.distances=u,g},getMaxDistance:function(r){var e=500;return e},get:function(r){if(r=r||0,r>0){n.dimension=r;var e=(r-1)*g.dimension,t=r*g.dimension;return n.positions=g.positions.subarray(2*e*3,2*t*3),n.distances=g.distances.subarray(e,t),n}return g},getCurrent:function(){return n}}}angular.module("modeling").factory("Proximities",r),r.$inject=["VERBOSE","$log"]}(),function(){"use strict";function r(){var r={dimension:0,harmonics:[],lowerBounds:[],upperBounds:[],neighbours:[]},e={dimension:0,harmonics:[],lowerBounds:[],upperBounds:[],neighbours:[]};return{set:function(e,g,n){if(!e)return void $log.warn("No restaints supplied");g=g||0,r.dimension=g;var t={harmonics:"H",lowerBounds:"L",upperBounds:"U",neighbours:"C"};n=n||{},angular.extend(this,angular.copy(t),n);for(var a=0;a<e.length;a++)e[a][2]==this.harmonics&&r.harmonics.push(e[a]),e[a][2]==this.lowerBounds&&r.lowerBounds.push(e[a]),e[a][2]==this.upperBounds&&r.upperBounds.push(e[a]),e[a][2]==this.neighbours&&r.neighbours.push(e[a]);return r},get:function(g){return g=g||0,g>0?(e.dimension=g,e.harmonics=[],e.lowerBounds=[],e.upperBounds=[],e.neighbours=[],angular.forEach(r,function(r,n){if("dimension"!=n)for(var t=r.length-1;t>=0;t--)if(r[t][0]==g&&e[n].push(r[t]),r[t][1]==g){var a=[];a.push(r[t][1]),a.push(r[t][0]),a.push(r[t][2]),a.push(r[t][3]),e[n].push(a)}}),e):r},getCurrent:function(){return e}}}angular.module("modeling").factory("Restraints",r)}(),function(){"use strict";angular.module("visualization",["d3js"])}(),function(){"use strict";function r(){return{lineSegmentsRGB:function(r,e){for(var g=this,n=r.data.length,t=new Float32Array(6*e),a=0;n>a;a++){
var o=r.data[a][0],b=r.data[a][1],i=6*g.getMatrixIndex(o,b,e),s={r:.5,g:.5,b:.5};if("restraints"==r.object.id){var l={H:"#4CAF50",L:"#0000ff",U:"#ff00ff",C:"#00ff00"};s=g.getFeatureRGB(r.data[a][2],l)}t[i]=s.r,i++,t[i]=s.g,i++,t[i]=s.b,i++,t[i]=s.r,i++,t[i]=s.g,i++,t[i]=s.b}return t.name="Network lineSegments RGB",t},getFeatureRGB:function(r,e){e=e||{0:"#000000"};var g;return angular.forEach(e,function(e,n){r==n&&(g=new THREE.Color(e))}),g},lineSegmentsAlpha:function(r,e){for(var g=this,n=new Float32Array(2*e),t=0,a=n.length-1;a>=0;a--)n[a]=t;if(r.data)for(var o=r.data.length,b=0;o>b;b++){var i=r.data[b][0],s=r.data[b][1],l=g.getMatrixIndex(i,s,e),u=r.data[b][3]*r.data[b][3]/5;n[l]=u,l++,n[l]=u}return n.name="Network lineSegments Alphas",n},getMatrixIndex:function(r,e,g){for(var n=0,t=r-1,a=0;t>=a;a++)n+=g-(g-a);return n+=e-r-1}}}angular.module("visualization").factory("Networks",r)}(),function(){"use strict";function r(){return{simple:function(r,e){e=e||!1;for(var g=r.length,n=[],t=0;g-1>t;t++){var a=r[t],o=r[t+1],b=new THREE.Vector3(0,0,0);b.addVectors(a,o).divideScalar(2);var i=new THREE.Vector3(0,0,0);if(i.copy(b).sub(a),0===t&&!e){var s;s=new THREE.Vector3(0,0,0),s.copy(a).sub(i),n.push(s)}if(n.push(b),t==g-2&&!e){var l;l=new THREE.Vector3(0,0,0),l.copy(o).add(i),n.push(l)}}return n},cubic:function(r,e){e=e||!1;var g=1,n=r.length,t={};t.vertices=[],t.colors=[];for(var a=new THREE.Vector3(0,0,0),o=0;n>o;o++){var b=r[o],i=new THREE.Vector3(0,0,0);o==n-1?e?i=r[0]:i.copy(b).addVectors(b,r[o-1]):i=r[o+1];var s=new THREE.Vector3(0,0,0);s.addVectors(b,i).divideScalar(2);var l=new THREE.Vector3(0,0,0);if(l.copy(s).sub(b),0===o)if(e){var u=new THREE.Vector3(0,0,0);u.addVectors(r[n-1],r[0]).divideScalar(2),a.copy(u).sub(r[n-1])}else a.copy(l);var c=new THREE.Vector3(0,0,0);c.copy(b).sub(l);var d=new THREE.Vector3(0,0,0);d.copy(b).add(a);var y=new THREE.Vector3(0,0,0);y.subVectors(d,c).divideScalar(g),c.copy(b).sub(y),d.copy(b).add(y),t.vertices.push(c),t.colors.push(new THREE.Color(13421772)),t.vertices.push(b),t.colors.push(new THREE.Color(0)),t.vertices.push(d),t.colors.push(new THREE.Color(13421772)),a=l}var f=new THREE.Vector3(0,0,0),h=new THREE.Vector3(0,0,0),p=new THREE.Vector3(0,0,0),m=new THREE.Vector3(0,0,0),v=t.vertices.length,w=t.vertices[v-2],E=t.vertices[v-1],k=t.vertices[0],C=t.vertices[1];if(e){var R=new THREE.CubicBezierCurve3(w,E,k,C),H=R.getPointAt(.5),T=R.getTangent(.5).multiplyScalar(1);f.copy(H).sub(T),h.copy(H),p.copy(H).add(T),m.copy(H)}else f.copy(k),h.copy(k),p.copy(E),m.copy(E);return t.vertices.unshift(f),t.colors.unshift(new THREE.Color(16776960)),t.vertices.unshift(h),t.colors.unshift(new THREE.Color(16711680)),t.vertices.push(p),t.colors.push(new THREE.Color(65535)),t.vertices.push(m),t.colors.push(new THREE.Color(255)),t}}}angular.module("visualization").factory("PathControls",r)}(),function(){"use strict";function r(){return{splineNearFit:function(r,e,g){g=g||!1;var n;return n=g?new THREE.ClosedSplineCurve3(r):new THREE.SplineCurve3(r)},spline:function(r,e,g){g=g||!1;var n=new THREE.CurvePath,t=r.length;if(g)n=new THREE.ClosedSplineCurve3(r);else for(var a=1;t-2>a;a+=3){var o=r[a],b=r[a+1],i=r[a+2],s=r[a+3],l=new THREE.Vector3(0,0,0);l.addVectors(i,b).divideScalar(2);var u=new THREE.SplineCurve3([o,l,s]);n.add(u)}return n},quadraticBezier:function(r,e,g){g=g||!1;var n=new THREE.CurvePath,t=r.length;if(g)n=new THREE.ClosedSplineCurve3(r);else for(var a=1;t-2>a;a+=3){var o=r[a],b=r[a+1],i=r[a+2],s=r[a+3],l=new THREE.Vector3(0,0,0);l.addVectors(i,b).divideScalar(2);var u=new THREE.QuadraticBezierCurve3(o,l,s);n.add(u)}return n},cubicBezier:function(r,e,g){g=g||!1;for(var n=new THREE.CurvePath,t=r.length,a=0;t-1>a;a+=3){var o=r[a],b=r[a+1],i=r[a+2],s=r[a+3],l=new THREE.CubicBezierCurve3(o,b,i,s);n.add(l)}return n}}}angular.module("visualization").factory("Paths",r)}(),function(){"use strict";function r(r,e,g){return{gradientHCL:function(r,e){for(var g=[],n=r.palette[0],t=r.palette[1],a=e-1;a>=0;a--){var o=a/e,b=d3.interpolateHcl(n,t)(o);g.push(b)}return g},gradientComponentRGB:function(r,e){var g,n,t,a,o,b,i,s,l,u,c=[],d="0x"+r.palette[0].substring(1),y="0x"+r.palette[1].substring(1);g=d>>16,n=d>>8&255,t=255&d,a=y>>16,o=y>>8&255,b=255&y;for(var f=e-1;f>=0;f--)i=f/e,s=+(i*g+(1-i)*a).toFixed(2),l=+(i*n+(1-i)*o).toFixed(2),u=+(i*t+(1-i)*b).toFixed(2),c.push(s,l,u);return c},bicolor:function(r,e){for(var g=r.palette[0],n=r.palette[1],t=[],a=0;e>a;a++){var o;o=1===r.data[a]?g:n,t.push(o)}return t},matrix:function(r,e){for(var g=r.palette[0],n=r.palette[1],t=[],a=r.data.length-1;a>=0;a--)for(var o=r.data[a],b=1-o*o,i=d3.interpolateHsl(g,n)(b),s=0;e>s;s++)t.push(i);return t},bicolorVariable:function(r,e,g,n){for(var t=r.palette[0],a=r.palette[1],o=r.data,b=[],i=0;g>i;i++){for(var s=a,l=e+n*i,u=l+n,c=o.length,d=0;c>d;d++){var y=o[d].start,f=o[d].end;Math.max(l,y)<=Math.min(u,f)&&(s=1===o[d].read?t:a)}b.push(s)}return b},featureGraph:function(r,e){var n=this.gradientHCL(r,e),t=g.THREEColorsFromHex(n),a=g.vertexColorsFromTHREEColors(t);return a},features:function(g,n,t,a,o){for(var b=g.data,i=[],s=0;t>s;s++){for(var l=[],u=n+a*s,c=u+a,d=b.length,y="cccccc",f="#"+y,h=0;d>h;h++){var p=b[h].start,m=b[h].end,v=[];if(Math.max(u,p)<=Math.min(c,m)){r&&e.debug("Feature "+b[h].external_name+"("+h+") in fragment "+s),v.push(s);var w="biotype",E="protein_coding";l.length>0&&l[0]==E?l[0]=b[h][w].toLowerCase():l.push(b[h][w].toLowerCase())}else r&&3===s&&e.debug("No features in fragment "+s),r&&0===h&&e.debug(JSON.stringify(u)+", "+JSON.stringify(p)+" <= "+JSON.stringify(c)+", "+JSON.stringify(m));b[h].inSegments=v}for(var k=0;k<l.length;k++){var C=l[0];C in o?(y=o[C].match(/[a-f0-9]{6}/gi),f="#"+y):(y="110100",f="#"+y)}i.push(f)}return i}}}angular.module("visualization").factory("Segments",r),r.$inject=["VERBOSE","$log","Color"]}();